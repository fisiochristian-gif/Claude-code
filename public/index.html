<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUNC HORIZON - dApp</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="screen active">
        <div class="login-container">
            <div class="logo-container">
                <h1 class="neon-text">LUNC HORIZON</h1>
                <p class="subtitle">Blockchain Gaming & Social Platform</p>
            </div>
            <div class="login-box">
                <h2>Accesso Piattaforma</h2>
                <input type="text" id="usernameInput" placeholder="Inserisci Username" autocomplete="off">
                <button id="loginBtn" class="cyber-button">
                    <span>CONNETTI</span>
                </button>
                <div id="loginError" class="error-message"></div>
            </div>
            <div class="tech-specs">
                <div class="spec-item">
                    <span class="spec-label">NETWORK:</span>
                    <span class="spec-value">LUNC MAINNET</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">STATUS:</span>
                    <span class="spec-value online">ONLINE</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="screen">
        <!-- Header -->
        <header class="main-header">
            <div class="header-left">
                <h1 class="app-title">LUNC HORIZON</h1>
            </div>
            <div class="header-center">
                <div class="user-stats">
                    <div class="stat-item">
                        <span class="stat-label">USERNAME:</span>
                        <span class="stat-value" id="usernameDisplay">---</span>
                    </div>
                    <div class="stat-item credits-display">
                        <span class="stat-label">CREDITI:</span>
                        <span class="stat-value" id="creditsDisplay">0</span>
                    </div>
                    <div class="stat-item points-display">
                        <span class="stat-label">üéØ PUNTI:</span>
                        <span class="stat-value" id="puntiDisplay">0</span>
                    </div>
                    <div class="stat-item capital-display">
                        <span class="stat-label">üîí CAPITALE:</span>
                        <span class="stat-value" id="capitalDisplay">0</span>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <button id="logoutBtn" class="cyber-button-small">ESCI</button>
            </div>
        </header>

        <!-- Main Content Area -->
        <div class="main-layout">
            <!-- Sidebar Navigation -->
            <aside class="sidebar">
                <nav class="nav-menu">
                    <button class="nav-item active" data-module="dashboard">
                        <span class="nav-icon">üìä</span>
                        <span class="nav-label">DASHBOARD</span>
                    </button>
                    <button class="nav-item" data-module="lunopoly">
                        <span class="nav-icon">üé≤</span>
                        <span class="nav-label">LUNOPOLY</span>
                    </button>
                    <button class="nav-item" data-module="social">
                        <span class="nav-icon">üí¨</span>
                        <span class="nav-label">SOCIAL WALL</span>
                    </button>
                    <button class="nav-item" data-module="socialearn">
                        <span class="nav-icon">üéØ</span>
                        <span class="nav-label">SOCIAL-TO-EARN</span>
                    </button>
                    <button class="nav-item" data-module="blog">
                        <span class="nav-icon">üì∞</span>
                        <span class="nav-label">BLOG</span>
                    </button>
                    <button class="nav-item" data-module="leaderboard">
                        <span class="nav-icon">üèÜ</span>
                        <span class="nav-label">CLASSIFICA</span>
                    </button>
                </nav>
                <div class="sidebar-footer">
                    <div class="connection-status">
                        <span class="status-dot" id="connectionStatus"></span>
                        <span class="status-text">CONNESSO</span>
                    </div>
                </div>
            </aside>

            <!-- Content Modules -->
            <main class="content-area">
                <!-- DASHBOARD Module -->
                <section id="dashboardModule" class="module active">
                    <div class="module-header">
                        <h2>üìä DASHBOARD - Panoramica Economica</h2>
                        <p class="module-description">Gestisci il tuo capitale e monitora le statistiche globali</p>
                    </div>

                    <!-- Capital Protection Notice -->
                    <div class="capital-notice">
                        <div class="notice-icon">üîí</div>
                        <div class="notice-content">
                            <h3>Protezione del Capitale al 100%</h3>
                            <p>Il tuo capitale √® <strong>garantito al 100%</strong> e protetto in staking. Il principale non viene mai speso.</p>
                        </div>
                    </div>

                    <!-- User Capital Stats -->
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3>üí∞ Il Tuo Capitale</h3>
                            <div class="big-stat">
                                <span class="stat-value" id="userCapitalDisplay">0</span>
                                <span class="stat-unit">LUNC</span>
                            </div>
                            <p class="stat-description">Capitale totale depositato e protetto in staking</p>
                        </div>

                        <div class="dashboard-card">
                            <h3>‚ö° Crediti Residui</h3>
                            <div class="big-stat">
                                <span class="stat-value" id="userCreditsDisplay">0</span>
                                <span class="stat-unit">Crediti</span>
                            </div>
                            <p class="stat-description">Crediti disponibili per giochi e chat</p>
                        </div>

                        <div class="dashboard-card">
                            <h3>üìà Ratio Minting</h3>
                            <div class="big-stat">
                                <span class="stat-value">1,500</span>
                                <span class="stat-unit">Crediti</span>
                            </div>
                            <p class="stat-description">Per ogni 100,000 LUNC depositati</p>
                        </div>
                    </div>

                    <!-- Deposit Section -->
                    <div class="deposit-section">
                        <h3>üíé Deposita LUNC</h3>
                        <p class="section-description">Deposita LUNC per mintare Crediti. Deposito minimo: 100,000 LUNC (multipli di 100,000)</p>
                        <div class="deposit-form">
                            <input type="number" id="depositAmountInput" placeholder="Inserisci importo (es: 100000)" step="100000" min="100000">
                            <button id="depositBtn" class="cyber-button">
                                <span>DEPOSITA LUNC</span>
                            </button>
                        </div>
                        <div id="depositStatus" class="status-message"></div>
                        <div class="deposit-info">
                            <p><strong>Nota:</strong> In ambiente di test, il deposito viene simulato. In produzione, sar√† richiesta una transazione blockchain reale.</p>
                        </div>
                    </div>

                    <!-- Global Stats -->
                    <div class="global-stats-section">
                        <h3>üåê Statistiche Globali</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon">üíº</div>
                                <div class="stat-content">
                                    <div class="stat-label">Pool di Staking Totale</div>
                                    <div class="stat-number" id="globalStakingPool">0</div>
                                    <div class="stat-suffix">LUNC</div>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon">üèÜ</div>
                                <div class="stat-content">
                                    <div class="stat-label">Fondo Premi (50% APR)</div>
                                    <div class="stat-number" id="fondoPremi">0</div>
                                    <div class="stat-suffix">LUNC</div>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon">üî•</div>
                                <div class="stat-content">
                                    <div class="stat-label">LUNC Bruciati da Yield</div>
                                    <div class="stat-number" id="totalBurned">0</div>
                                    <div class="stat-suffix">LUNC</div>
                                </div>
                            </div>

                            <div class="stat-card">
                                <div class="stat-icon">üìä</div>
                                <div class="stat-content">
                                    <div class="stat-label">APR Corrente</div>
                                    <div class="stat-number" id="currentAPR">5.0</div>
                                    <div class="stat-suffix">%</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- APR Distribution Breakdown -->
                    <div class="apr-breakdown">
                        <h3>üìä Distribuzione APR</h3>
                        <p class="section-description">100% dell'APR generato dal pool di staking viene distribuito come segue:</p>
                        <div class="breakdown-grid">
                            <div class="breakdown-item">
                                <div class="breakdown-bar" style="width: 50%; background: linear-gradient(135deg, #ffd700, #ffaa00);">
                                    <span>50%</span>
                                </div>
                                <div class="breakdown-label">üèÜ Fondo Premi (Top 10)</div>
                            </div>
                            <div class="breakdown-item">
                                <div class="breakdown-bar" style="width: 20%; background: linear-gradient(135deg, #ff4500, #ff6347);">
                                    <span>20%</span>
                                </div>
                                <div class="breakdown-label">üî• Burn Strategico</div>
                            </div>
                            <div class="breakdown-item">
                                <div class="breakdown-bar" style="width: 15%; background: linear-gradient(135deg, #00ffff, #00ced1);">
                                    <span>15%</span>
                                </div>
                                <div class="breakdown-label">‚öôÔ∏è Sviluppo & Server</div>
                            </div>
                            <div class="breakdown-item">
                                <div class="breakdown-bar" style="width: 15%; background: linear-gradient(135deg, #00ff00, #32cd32);">
                                    <span>15%</span>
                                </div>
                                <div class="breakdown-label">üë§ Creator Revenue</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- LUNOPOLY Module -->
                <section id="lunopolyModule" class="module">
                    <div class="module-header">
                        <h2>üé≤ LUNOPOLY - Monopoli Blockchain</h2>
                        <p class="module-description">Tabellone a 24 caselle con 4 Bot Conservatori</p>
                    </div>
                    <div class="game-container">
                        <div class="game-board" id="gameBoard">
                            <!-- Il tabellone verr√† generato dinamicamente -->
                        </div>
                        <div class="game-controls">
                            <div class="game-info">
                                <h3>Informazioni Partita</h3>
                                <div class="info-item">
                                    <span>Posizione:</span>
                                    <span id="playerPosition">0</span>
                                </div>
                                <div class="info-item">
                                    <span>Turno:</span>
                                    <span id="currentTurn">In attesa...</span>
                                </div>
                            </div>
                            <button id="rollDiceBtn" class="cyber-button action-btn">
                                <span>LANCIA DADI</span>
                            </button>
                            <div id="diceResult" class="dice-result"></div>
                            <div class="timer-display">
                                <span>Timer Automatico:</span>
                                <span id="turnTimer">10s</span>
                            </div>
                        </div>
                    </div>
                    <div class="game-log" id="gameLog">
                        <h3>Log Eventi</h3>
                        <div id="gameLogContent"></div>
                    </div>
                </section>

                <!-- SOCIAL WALL Module -->
                <section id="socialModule" class="module">
                    <div class="module-header">
                        <h2>üí¨ SOCIAL WALL - Chat in Tempo Reale</h2>
                        <p class="module-description">Ogni messaggio costa 1 Credito LUNC</p>
                    </div>
                    <div class="social-container">
                        <div class="messages-area" id="messagesArea">
                            <!-- Messaggi verranno aggiunti qui -->
                        </div>
                        <div class="message-input-area">
                            <input type="text" id="messageInput" placeholder="Scrivi un messaggio (costo: 1 Credito)..." maxlength="500">
                            <button id="sendMessageBtn" class="cyber-button">
                                <span>INVIA</span>
                            </button>
                        </div>
                        <div id="chatError" class="error-message"></div>
                    </div>
                </section>

                <!-- SOCIAL-TO-EARN Module -->
                <section id="socialearnModule" class="module">
                    <div class="module-header">
                        <h2>üéØ SOCIAL-TO-EARN - Guadagna Punti</h2>
                        <p class="module-description">Completa azioni social per guadagnare punti e scalare la classifica</p>
                    </div>

                    <!-- Rewards Table -->
                    <div class="rewards-explanation">
                        <h3>üìä Tabella Premi</h3>
                        <div class="rewards-grid">
                            <div class="reward-item">
                                <span class="reward-icon">üì∞</span>
                                <span class="reward-name">Follow Blog</span>
                                <span class="reward-points">+500 Punti</span>
                                <span class="reward-cost free">Gratis (Una volta)</span>
                            </div>
                            <div class="reward-item">
                                <span class="reward-icon">üí¨</span>
                                <span class="reward-name">Comment Blog</span>
                                <span class="reward-points">+50 Punti</span>
                                <span class="reward-cost">Costo: 5 Crediti</span>
                            </div>
                            <div class="reward-item">
                                <span class="reward-icon">üí¨</span>
                                <span class="reward-name">Social Wall Message</span>
                                <span class="reward-points">+10 Punti</span>
                                <span class="reward-cost">Costo: 1 Credito</span>
                            </div>
                            <div class="reward-item">
                                <span class="reward-icon">üê¶</span>
                                <span class="reward-name">X Follow</span>
                                <span class="reward-points">+300 Punti</span>
                                <span class="reward-cost free">Gratis (Una volta)</span>
                            </div>
                            <div class="reward-item">
                                <span class="reward-icon">‚ù§Ô∏è</span>
                                <span class="reward-name">X Like</span>
                                <span class="reward-points">+30 Punti</span>
                                <span class="reward-cost">Costo: 2 Crediti</span>
                            </div>
                            <div class="reward-item">
                                <span class="reward-icon">üîÑ</span>
                                <span class="reward-name">X Repost</span>
                                <span class="reward-points">+200 Punti</span>
                                <span class="reward-cost">Costo: 10 Crediti</span>
                            </div>
                            <div class="reward-item">
                                <span class="reward-icon">ü§ñ</span>
                                <span class="reward-name">Reddit Join</span>
                                <span class="reward-points">+400 Punti</span>
                                <span class="reward-cost free">Gratis (Una volta)</span>
                            </div>
                            <div class="reward-item">
                                <span class="reward-icon">‚¨ÜÔ∏è</span>
                                <span class="reward-name">Reddit Upvote</span>
                                <span class="reward-points">+40 Punti</span>
                                <span class="reward-cost">Costo: 2 Crediti</span>
                            </div>
                            <div class="reward-item">
                                <span class="reward-icon">üéÅ</span>
                                <span class="reward-name">Referral Code</span>
                                <span class="reward-points">+1000 Punti</span>
                                <span class="reward-cost free">Gratis</span>
                            </div>
                        </div>
                    </div>

                    <!-- Actions Panel -->
                    <div class="social-earn-panel">
                        <h3>üéØ Completa Azioni</h3>

                        <!-- Blog Actions -->
                        <div class="action-category">
                            <h4>üì∞ Blog Actions</h4>
                            <div class="action-row">
                                <button id="followBlogBtn" class="action-button">
                                    <span>üì∞ Follow Blog (+500)</span>
                                </button>
                            </div>
                            <div class="action-row">
                                <input type="text" id="commentBlogLink" placeholder="Inserisci link al commento sul blog..." class="action-input">
                                <button id="commentBlogBtn" class="action-button">
                                    <span>üí¨ Comment Blog (+50)</span>
                                </button>
                            </div>
                        </div>

                        <!-- X (Twitter) Actions -->
                        <div class="action-category">
                            <h4>üê¶ X (Twitter) Actions</h4>
                            <div class="action-row">
                                <button id="xFollowBtn" class="action-button">
                                    <span>üê¶ Follow X Account (+300)</span>
                                </button>
                            </div>
                            <div class="action-row">
                                <input type="text" id="xLikeLink" placeholder="Inserisci link al like su X..." class="action-input">
                                <button id="xLikeBtn" class="action-button">
                                    <span>‚ù§Ô∏è Like Post X (+30)</span>
                                </button>
                            </div>
                            <div class="action-row">
                                <input type="text" id="xRepostLink" placeholder="Inserisci link al repost su X..." class="action-input">
                                <button id="xRepostBtn" class="action-button">
                                    <span>üîÑ Repost X (+200)</span>
                                </button>
                            </div>
                        </div>

                        <!-- Reddit Actions -->
                        <div class="action-category">
                            <h4>ü§ñ Reddit Actions</h4>
                            <div class="action-row">
                                <button id="redditJoinBtn" class="action-button">
                                    <span>ü§ñ Join Subreddit (+400)</span>
                                </button>
                            </div>
                            <div class="action-row">
                                <input type="text" id="redditUpvoteLink" placeholder="Inserisci link all'upvote su Reddit..." class="action-input">
                                <button id="redditUpvoteBtn" class="action-button">
                                    <span>‚¨ÜÔ∏è Upvote Reddit (+40)</span>
                                </button>
                            </div>
                        </div>

                        <div id="socialEarnStatus" class="status-message"></div>
                    </div>

                    <!-- Actions History -->
                    <div class="actions-history">
                        <h3>üìú Le Tue Azioni Recenti</h3>
                        <div id="socialActionsHistory" class="actions-list">
                            <div class="loading">Caricamento...</div>
                        </div>
                    </div>
                </section>

                <!-- BLOG Module -->
                <section id="blogModule" class="module">
                    <div class="module-header">
                        <h2>üì∞ BLOG - Rendite Digitali</h2>
                        <p class="module-description">Feed da renditedigitali.blogspot.com</p>
                    </div>
                    <div class="blog-container" id="blogContainer">
                        <div class="loading">Caricamento feed...</div>
                    </div>
                </section>

                <!-- LEADERBOARD Module -->
                <section id="leaderboardModule" class="module">
                    <div class="module-header">
                        <h2>üèÜ CLASSIFICA - Top Players</h2>
                        <p class="module-description">I migliori giocatori per Punti Social-to-Earn (Reset mensile)</p>
                    </div>
                    <div class="leaderboard-notice">
                        <p>‚ö†Ô∏è La classifica si basa sui <strong>Punti</strong> guadagnati con Social-to-Earn</p>
                        <p>üîÑ Reset automatico ogni 30 giorni</p>
                    </div>
                    <div class="leaderboard-container">
                        <table class="leaderboard-table">
                            <thead>
                                <tr>
                                    <th>POSIZIONE</th>
                                    <th>USERNAME</th>
                                    <th>PUNTI</th>
                                    <th>CREDITI</th>
                                </tr>
                            </thead>
                            <tbody id="leaderboardBody">
                                <!-- Leaderboard data -->
                            </tbody>
                        </table>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="app.js"></script>
    <script src="modules/dashboard.js"></script>
    <script src="modules/lunopoly.js"></script>
    <script src="modules/social.js"></script>
    <script src="modules/social-earn.js"></script>
    <script src="modules/blog.js"></script>
</body>
</html>
